/*! ATVicon.js, v1.0.1 - Author: Nash Vail (nashvail.me) - https://github.com/nashvail/ATVIcons */
(function(){function k(a,b){var c=null;return function(){var d=this,e=arguments;null===c&&(c=setTimeout(function(){a.apply(d,e);c=null},b))}}function n(a,b){if(!a)return!1;this.el=a;this.children=a.querySelectorAll("[data-stacking]");for(var c in b)b.hasOwnProperty(c)&&(this.opts[c]=b[c]);this.opts.damping=this.opts.damping||.1;this.resize();f.addEventListener("resize",k(this.resize,500).bind(this));var d=0,e=0,g=0,h=0;this.setTransform=function(a,b){b=b||1;a.style[p]="perspective("+this.opts.perspective+
"px) rotateX("+d*this.opts.maxRotation+"deg) rotateY("+e*this.opts.maxRotation+"deg)"+(" translate3d("+g*this.opts.maxTranslation*b+"px,"+h*this.opts.maxTranslation*b+"px, 0px)")};this.animate=function(){d=Math.ceil(1E4*(d+(this.xRotation-d)*this.opts.damping))/1E4;e=Math.ceil(1E4*(e+(this.yRotation-e)*this.opts.damping))/1E4;g=Math.ceil(1E4*(g+(this.xTranslation-g)*this.opts.damping))/1E4;h=Math.ceil(1E4*(h+(this.yTranslation-h)*this.opts.damping))/1E4;for(var a=this.children.length,b=0,c,f;b<a;b++)c=
this.children[b],f=c.getAttribute("data-stacking"),this.setTransform(c,f);d&&e&&g&&h&&l(this.animate.bind(this))};this.el.addEventListener("mousemove",k(this.mousemove,50).bind(this));this.el.addEventListener("mouseleave",k(this.mouseleave,300).bind(this))}var f=window,m=document,q=m.documentElement,l=f.requestAnimationFrame||f.mozRequestAnimationFrame||f.webkitRequestAnimationFrame||f.msRequestAnimationFrame||f.oRequestAnimationFrame||function(a){f.setTimeout(a,20)},p=function(){var a={};return function(b){if(void 0!==
a[b])return a[b];var c=m.createElement("div").style,d=b.charAt(0).toUpperCase()+b.slice(1),d=(b+" "+["webkit","moz","ms","o"].join(d+" ")+d).split(" "),e;for(e in d)if(d[e]in c)return a[b]=d[e];return a[b]=!1}}()("transform");if(!p)return window.ATVicon=function(){return!1},!1;window.ATVicon=function(a,b){for(var c="string"===typeof a?m.querySelectorAll(a):a instanceof Element?[a]:!1,d=c.length,e=0;e<d;e++)c[e]=new n(c[e],b);return c};n.prototype={opts:{maxRotation:8,maxTranslation:4,perspective:800,
damping:.1},xRotation:0,yRotation:0,xTranslation:0,yTranslation:0,resize:function(){var a=this.el.getBoundingClientRect();this.offset={top:a.top+f.pageYOffset-q.clientTop,left:a.left+f.pageXOffset-q.clientLeft};this.width=a.width;this.height=a.height},mousemove:function(a){var b=(a.touches?a.touches[0].clientX:a.clientX)-this.offset.left;a=(a.touches?a.touches[0].clientY:a.clientY)-this.offset.top;this.xRotation=-2/this.height*a+1;this.yRotation=-1*(-2/this.width*b+1);this.xTranslation=-2/this.width*
b+1;this.yTranslation=-2/this.height*a+1;this._animating||(this._animating=!0,l(this.animate.bind(this)))},mouseleave:function(){this._animating=!1;this.xRotation=this.yRotation=this.xTranslation=this.yTranslation=0;l(this.animate.bind(this))}}})();